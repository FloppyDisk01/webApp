<!doctype html>

<html ng-app="ListeaFaire">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Liste Choses à Faire</title>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular-cookies.js"></script>
  <script src="liste.js"></script>
  <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
</head>

<body ng-controller="mainController">
  <div id="todo-list" class="container">
    <h1>La liste des choses à faire</h1>
    <ul class="list-group" ng-repeat="x in laliste">
      <li class="list-group-item">
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <div class="input-group-text">
              <input type="checkbox" ng-click="checkTask(x._id)">
            </div>
          </div>
          <input type="text" ng-model="x.text" class="form-control">
          <div class="input-group-append" id="button-addon4">
            <button ng-click="modifyTask(x)"  class="btn btn-warning" > Modifier </button>
            <button ng-click="deleteTodo(x.parent, x._id)" class="btn btn-danger"> Supprimer </button>
          </div>
        </div>
        <p class="text-muted">créée par {{x.author}} le {{x.date| date:'dd/MM/yyyy à HH:mm'}}</p>
      </li>
    </ul>
     <p class="text-muted">Nombre des choses: {{ laliste.length }}</p>
  </br>
  <div id="todo-form">
    <form>
      <div class="input-group">
        <input type="text" class="form-control" placeholder="écrire quelque chose" ng-model="formData.text">
        <input type="text" class="form-control" placeholder="nom auteur" ng-model="formData.auth">
        <div class="input-group-append" id="button-addon4">
          <button type="submit" ng-click="createTodo()" class="btn btn-success">Ajouter</button>
        </div>
      </div>
    </div>

  </form>
</div>
</body>
</html>
